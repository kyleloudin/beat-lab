{"ast":null,"code":"import * as Tone from \"tone\";\nexport default {\n  data() {\n    return {\n      // synth: new Tone.Synth().toDestination(),\n\n      pianoKeys: [{\n        id: 1,\n        label: \"C\",\n        type: \"white\",\n        active: false,\n        keyCode: 65\n      }, {\n        id: 2,\n        label: \"C#\",\n        type: \"black\",\n        active: false,\n        keyCode: 87\n      }, {\n        id: 3,\n        label: \"D\",\n        type: \"white\",\n        active: false,\n        keyCode: 83\n      }, {\n        id: 4,\n        label: \"D#\",\n        type: \"black\",\n        active: false,\n        keyCode: 69\n      }, {\n        id: 5,\n        label: \"E\",\n        type: \"white\",\n        active: false,\n        keyCode: 68\n      }, {\n        id: 6,\n        label: \"F\",\n        type: \"white\",\n        active: false,\n        keyCode: 70\n      }, {\n        id: 7,\n        label: \"F#\",\n        type: \"black\",\n        active: false,\n        keyCode: 84\n      }, {\n        id: 8,\n        label: \"G\",\n        type: \"white\",\n        active: false,\n        keyCode: 71\n      }, {\n        id: 9,\n        label: \"G#\",\n        type: \"black\",\n        active: false,\n        keyCode: 89\n      }, {\n        id: 10,\n        label: \"A\",\n        type: \"white\",\n        active: false,\n        keyCode: 72\n      }, {\n        id: 11,\n        label: \"A#\",\n        type: \"black\",\n        active: false,\n        keyCode: 85\n      }, {\n        id: 12,\n        label: \"B\",\n        type: \"white\",\n        active: false,\n        keyCode: 74\n      }],\n      activeSynths: {} // Track active synths for each key\n    };\n  },\n\n  created() {\n    // Add event listener for keyboard events\n    window.addEventListener(\"keydown\", this.handleKeyDown);\n    window.addEventListener(\"keyup\", this.handleKeyUp);\n  },\n  beforeDestroy() {\n    // Remove event listener when component is destroyed\n    window.removeEventListener(\"keydown\", this.handleKeyDown);\n    window.removeEventListener(\"keyup\", this.handleKeyUp);\n  },\n  methods: {\n    playKey(key) {\n      key.active = true;\n      const synth = new Tone.Synth().toDestination();\n\n      // if (key.keyCode == 65) {\n      //   //play a middle 'C' for the duration of an 8th note\n      //   synth.triggerAttackRelease(\"C4\", \"8n\");\n      // }\n\n      switch (key.keyCode) {\n        case 65:\n          synth.triggerAttackRelease(\"C4\", \"n\");\n          break;\n        case 87:\n          synth.triggerAttackRelease(\"C#4\", \"8n\");\n          break;\n        case 83:\n          synth.triggerAttackRelease(\"D4\", \"8n\");\n          break;\n        case 69:\n          synth.triggerAttackRelease(\"D#4\", \"8n\");\n          break;\n        case 68:\n          synth.triggerAttackRelease(\"E4\", \"8n\");\n          break;\n          a;\n        case 70:\n          synth.triggerAttackRelease(\"F4\", \"8n\");\n          break;\n        case 84:\n          synth.triggerAttackRelease(\"F#4\", \"8n\");\n          break;\n        case 71:\n          synth.triggerAttackRelease(\"G4\", \"8n\");\n          break;\n        case 89:\n          synth.triggerAttackRelease(\"G#4\", \"8n\");\n          break;\n        case 72:\n          synth.triggerAttackRelease(\"A4\", \"8n\");\n          break;\n        case 85:\n          synth.triggerAttackRelease(\"A#4\", \"8n\");\n          break;\n        case 74:\n          synth.triggerAttackRelease(\"B4\", \"8n\");\n          break;\n          c;\n      }\n      key.active = false;\n    },\n    stopKey(key) {\n      key.active = false;\n    },\n    handleKeyDown(event) {\n      // Find the matching piano key based on the keyCode\n      const key = this.pianoKeys.find(key => key.keyCode === event.keyCode);\n      if (event.repeat) return;\n      if (key) {\n        this.playKey(key);\n      }\n    },\n    handleKeyUp(event) {\n      // Find the matching piano key based on the keyCode\n      const key = this.pianoKeys.find(key => key.keyCode === event.keyCode);\n      if (key) {\n        this.stopKey(key);\n      }\n    }\n  }\n};","map":{"version":3,"names":["Tone","data","pianoKeys","id","label","type","active","keyCode","activeSynths","created","window","addEventListener","handleKeyDown","handleKeyUp","beforeDestroy","removeEventListener","methods","playKey","key","synth","Synth","toDestination","triggerAttackRelease","a","c","stopKey","event","find","repeat"],"sources":["src/components/Piano.vue"],"sourcesContent":["<template>\n  <container class=\"piano-container\">\n    <row>\n      <btn\n        v-for=\"key in pianoKeys\"\n        :key=\"key.id\"\n        :class=\"['piano-key', key.type, { active: key.active }]\"\n        @mousedown=\"playKey(key)\"\n        @mouseup=\"stopKey(key)\"\n        @touchstart=\"playKey(key)\"\n        @touchend=\"stopKey(key)\"\n      >\n        {{ key.label }}\n      </btn>\n    </row>\n  </container>\n</template>\n\n<script>\nimport * as Tone from \"tone\";\nexport default {\n  data() {\n    return {\n      // synth: new Tone.Synth().toDestination(),\n\n      pianoKeys: [\n        { id: 1, label: \"C\", type: \"white\", active: false, keyCode: 65 },\n        { id: 2, label: \"C#\", type: \"black\", active: false, keyCode: 87 },\n        { id: 3, label: \"D\", type: \"white\", active: false, keyCode: 83 },\n        { id: 4, label: \"D#\", type: \"black\", active: false, keyCode: 69 },\n        { id: 5, label: \"E\", type: \"white\", active: false, keyCode: 68 },\n        { id: 6, label: \"F\", type: \"white\", active: false, keyCode: 70 },\n        { id: 7, label: \"F#\", type: \"black\", active: false, keyCode: 84 },\n        { id: 8, label: \"G\", type: \"white\", active: false, keyCode: 71 },\n        { id: 9, label: \"G#\", type: \"black\", active: false, keyCode: 89 },\n        { id: 10, label: \"A\", type: \"white\", active: false, keyCode: 72 },\n        { id: 11, label: \"A#\", type: \"black\", active: false, keyCode: 85 },\n        { id: 12, label: \"B\", type: \"white\", active: false, keyCode: 74 },\n      ],\n      activeSynths: {}, // Track active synths for each key\n    };\n  },\n  created() {\n    // Add event listener for keyboard events\n    window.addEventListener(\"keydown\", this.handleKeyDown);\n    window.addEventListener(\"keyup\", this.handleKeyUp);\n  },\n  beforeDestroy() {\n    // Remove event listener when component is destroyed\n    window.removeEventListener(\"keydown\", this.handleKeyDown);\n    window.removeEventListener(\"keyup\", this.handleKeyUp);\n  },\n  methods: {\n    playKey(key) {\n      key.active = true;\n      const synth = new Tone.Synth().toDestination();\n\n      // if (key.keyCode == 65) {\n      //   //play a middle 'C' for the duration of an 8th note\n      //   synth.triggerAttackRelease(\"C4\", \"8n\");\n      // }\n\n      switch (key.keyCode){\n        case 65:\n        synth.triggerAttackRelease(\"C4\", \"n\");\n        break;\n        case 87:\n        synth.triggerAttackRelease(\"C#4\", \"8n\");\n        break;\n        case 83:\n        synth.triggerAttackRelease(\"D4\", \"8n\");\n        break;\n        case 69:\n        synth.triggerAttackRelease(\"D#4\", \"8n\");\n        break;\n        case 68:\n        synth.triggerAttackRelease(\"E4\", \"8n\");\n        break;a\n        case 70:\n        synth.triggerAttackRelease(\"F4\", \"8n\");\n        break;\n        case 84:\n        synth.triggerAttackRelease(\"F#4\", \"8n\");\n        break;\n        case 71:\n        synth.triggerAttackRelease(\"G4\", \"8n\");\n        break;\n        case 89:\n        synth.triggerAttackRelease(\"G#4\", \"8n\");\n        break;\n        case 72:\n        synth.triggerAttackRelease(\"A4\", \"8n\");\n        break;\n        case 85:\n        synth.triggerAttackRelease(\"A#4\", \"8n\");\n        break;\n        case 74:\n        synth.triggerAttackRelease(\"B4\", \"8n\");\n        \n        break;c\n      }\n      key.active = false;\n    },\n    stopKey(key) {\n      key.active = false;\n      \n    },\n    handleKeyDown(event) {\n      // Find the matching piano key based on the keyCode\n      const key = this.pianoKeys.find((key) => key.keyCode === event.keyCode);\n      if(event.repeat) return\n      if (key) {\n        this.playKey(key);\n        \n      }\n    },\n    handleKeyUp(event) {\n      // Find the matching piano key based on the keyCode\n      const key = this.pianoKeys.find((key) => key.keyCode === event.keyCode);\n      if (key) {\n        this.stopKey(key);\n      }\n    },\n  },\n};\n</script>\n\n<style>\n.piano-container {\n  \n  padding: 10px;\n  display: flex;\n  justify-content: center;\n  border-radius: 10px;\n  \n  \n}\n\n.piano-row {\n  display: flex;\n  justify-content: center;\n  align-items: flex-end;\n  height: 220px;\n  width: 1000px;\n  box-shadow: 0 4px 6px rgb(0, 0, 0);\n}\n\n.piano-key {\n  display: inline-flex;\n  align-items: flex-end;\n  justify-content: center;\n  min-width: 40px;\n  height: 220px;\n  font-size: 14px;\n  font-weight: bold;\n  background-color: #fff;\n  color: #000;\n  cursor: pointer;\n  transition: background-color 0.3s ease;\n  position: relative;\n  border-radius: 0;\n  margin: 0 -2px;\n  z-index: 1;\n}\n\n.piano-key.white {\n  border-bottom: 3px solid #aaa;\n  box-shadow: 0 -2px 4px rgba(0, 0, 0, 0.1);\n}\n\n.piano-key.black {\n  min-width: 24px;\n  height: 150px;\n  background-color: #000;\n  color: #fff;\n  z-index: 2;\n  border-radius: 0 0 5px 5px;\n  margin: 0 -1px;\n  box-shadow: 0 -2px 4px rgba(0, 0, 0, 0.2);\n}\n\n.piano-key.active {\n  background-color: #ddd;\n}\n\n.piano-key.active.white {\n  background-color: #ccc;\n}\n\n.piano-key.active.black {\n  background-color: #444;\n}\n.v-application .white{\n  background-color: rgba(246, 246, 246, 0.8) !important;\n}\n</style>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}