{"ast":null,"code":"import * as Tone from \"tone\";\nexport default {\n  data() {\n    return {\n      // synth: new Tone.Synth().toDestination(),\n\n      pianoKeys: [{\n        id: 1,\n        label: \"C\",\n        type: \"white\",\n        active: false,\n        keyCode: 65\n      }, {\n        id: 2,\n        label: \"C#\",\n        type: \"black\",\n        active: false,\n        keyCode: 87\n      }, {\n        id: 3,\n        label: \"D\",\n        type: \"white\",\n        active: false,\n        keyCode: 83\n      }, {\n        id: 4,\n        label: \"D#\",\n        type: \"black\",\n        active: false,\n        keyCode: 69\n      }, {\n        id: 5,\n        label: \"E\",\n        type: \"white\",\n        active: false,\n        keyCode: 68\n      }, {\n        id: 6,\n        label: \"F\",\n        type: \"white\",\n        active: false,\n        keyCode: 70\n      }, {\n        id: 7,\n        label: \"F#\",\n        type: \"black\",\n        active: false,\n        keyCode: 84\n      }, {\n        id: 8,\n        label: \"G\",\n        type: \"white\",\n        active: false,\n        keyCode: 71\n      }, {\n        id: 9,\n        label: \"G#\",\n        type: \"black\",\n        active: false,\n        keyCode: 89\n      }, {\n        id: 10,\n        label: \"A\",\n        type: \"white\",\n        active: false,\n        keyCode: 72\n      }, {\n        id: 11,\n        label: \"A#\",\n        type: \"black\",\n        active: false,\n        keyCode: 85\n      }, {\n        id: 12,\n        label: \"B\",\n        type: \"white\",\n        active: false,\n        keyCode: 74\n      }]\n    };\n  },\n  created() {\n    // Add event listener for keyboard events\n    window.addEventListener(\"keydown\", this.handleKeyDown);\n    window.addEventListener(\"keyup\", this.handleKeyUp);\n  },\n  beforeDestroy() {\n    // Remove event listener when component is destroyed\n    window.removeEventListener(\"keydown\", this.handleKeyDown);\n    window.removeEventListener(\"keyup\", this.handleKeyUp);\n  },\n  methods: {\n    playKey(key) {\n      key.active = true;\n      const synth = new Tone.Synth().toDestination();\n      // if (key.keyCode == 65) {\n      //   //play a middle 'C' for the duration of an 8th note\n      //   synth.triggerAttackRelease(\"C4\", \"8n\");\n      // }\n\n      switch (key.keyCode) {\n        case 65:\n          synth.triggerAttackRelease(\"C4\", \"4n\");\n          break;\n        case 87:\n          synth.triggerAttackRelease(\"C#4\", \"8n\");\n          break;\n        case 83:\n          synth.triggerAttackRelease(\"D4\", \"8n\");\n          break;\n        case 69:\n          synth.triggerAttackRelease(\"D#4\", \"8n\");\n          break;\n        case 68:\n          synth.triggerAttackRelease(\"E4\", \"8n\");\n          break;\n        case 70:\n          synth.triggerAttackRelease(\"F4\", \"8n\");\n          break;\n        case 84:\n          synth.triggerAttackRelease(\"F#4\", \"8n\");\n          break;\n        case 71:\n          synth.triggerAttackRelease(\"G4\", \"8n\");\n          break;\n        case 89:\n          synth.triggerAttackRelease(\"G#4\", \"8n\");\n          break;\n        case 72:\n          synth.triggerAttackRelease(\"A4\", \"8n\");\n          break;\n        case 85:\n          synth.triggerAttackRelease(\"A#4\", \"8n\");\n          break;\n        case 74:\n          synth.triggerAttackRelease(\"B4\", \"8n\");\n          break;\n      }\n      return;\n    },\n    stopKey(key) {\n      key.active = false;\n    },\n    handleKeyDown(event) {\n      // Find the matching piano key based on the keyCode\n      const key = this.pianoKeys.find(key => key.keyCode === event.keyCode);\n      if (key) {\n        this.playKey(key);\n      }\n      if (key.keyCode.repeat) return;\n    },\n    handleKeyUp(event) {\n      // Find the matching piano key based on the keyCode\n      const key = this.pianoKeys.find(key => key.keyCode === event.keyCode);\n      if (key) {\n        this.stopKey(key);\n      }\n    }\n  }\n};","map":{"version":3,"names":["Tone","data","pianoKeys","id","label","type","active","keyCode","created","window","addEventListener","handleKeyDown","handleKeyUp","beforeDestroy","removeEventListener","methods","playKey","key","synth","Synth","toDestination","triggerAttackRelease","stopKey","event","find","repeat"],"sources":["src/components/Piano.vue"],"sourcesContent":["<template>\n  <v-container class=\"piano-container\">\n    <v-row>\n      <v-btn\n        v-for=\"key in pianoKeys\"\n        :key=\"key.id\"\n        :class=\"['piano-key', key.type, { active: key.active }]\"\n        @mousedown=\"playKey(key)\"\n        @mouseup=\"stopKey(key)\"\n        @touchstart=\"playKey(key)\"\n        @touchend=\"stopKey(key)\"\n      >\n        {{ key.label }}\n      </v-btn>\n    </v-row>\n  </v-container>\n</template>\n\n<script>\nimport * as Tone from \"tone\";\nexport default {\n  data() {\n    return {\n      // synth: new Tone.Synth().toDestination(),\n\n      pianoKeys: [\n        { id: 1, label: \"C\", type: \"white\", active: false, keyCode: 65 },\n        { id: 2, label: \"C#\", type: \"black\", active: false, keyCode: 87 },\n        { id: 3, label: \"D\", type: \"white\", active: false, keyCode: 83 },\n        { id: 4, label: \"D#\", type: \"black\", active: false, keyCode: 69 },\n        { id: 5, label: \"E\", type: \"white\", active: false, keyCode: 68 },\n        { id: 6, label: \"F\", type: \"white\", active: false, keyCode: 70 },\n        { id: 7, label: \"F#\", type: \"black\", active: false, keyCode: 84 },\n        { id: 8, label: \"G\", type: \"white\", active: false, keyCode: 71 },\n        { id: 9, label: \"G#\", type: \"black\", active: false, keyCode: 89 },\n        { id: 10, label: \"A\", type: \"white\", active: false, keyCode: 72 },\n        { id: 11, label: \"A#\", type: \"black\", active: false, keyCode: 85 },\n        { id: 12, label: \"B\", type: \"white\", active: false, keyCode: 74 },\n      ],\n    };\n  },\n  created() {\n    // Add event listener for keyboard events\n    window.addEventListener(\"keydown\", this.handleKeyDown);\n    window.addEventListener(\"keyup\", this.handleKeyUp);\n  },\n  beforeDestroy() {\n    // Remove event listener when component is destroyed\n    window.removeEventListener(\"keydown\", this.handleKeyDown);\n    window.removeEventListener(\"keyup\", this.handleKeyUp);\n  },\n  methods: {\n    playKey(key) {\n      key.active = true;\n      const synth = new Tone.Synth().toDestination();\n      // if (key.keyCode == 65) {\n      //   //play a middle 'C' for the duration of an 8th note\n      //   synth.triggerAttackRelease(\"C4\", \"8n\");\n      // }\n\n      switch (key.keyCode){\n        case 65:\n        synth.triggerAttackRelease(\"C4\", \"4n\");\n        break;\n        case 87:\n        synth.triggerAttackRelease(\"C#4\", \"8n\");\n        break;\n        case 83:\n        synth.triggerAttackRelease(\"D4\", \"8n\");\n        break;\n        case 69:\n        synth.triggerAttackRelease(\"D#4\", \"8n\");\n        break;\n        case 68:\n        synth.triggerAttackRelease(\"E4\", \"8n\");\n        break;\n        case 70:\n        synth.triggerAttackRelease(\"F4\", \"8n\");\n        break;\n        case 84:\n        synth.triggerAttackRelease(\"F#4\", \"8n\");\n        break;\n        case 71:\n        synth.triggerAttackRelease(\"G4\", \"8n\");\n        break;\n        case 89:\n        synth.triggerAttackRelease(\"G#4\", \"8n\");\n        break;\n        case 72:\n        synth.triggerAttackRelease(\"A4\", \"8n\");\n        break;\n        case 85:\n        synth.triggerAttackRelease(\"A#4\", \"8n\");\n        break;\n        case 74:\n        synth.triggerAttackRelease(\"B4\", \"8n\");\n        break;\n      }\n      return\n    },\n    stopKey(key) {\n      key.active = false;\n    },\n    handleKeyDown(event) {\n      // Find the matching piano key based on the keyCode\n      const key = this.pianoKeys.find((key) => key.keyCode === event.keyCode);\n      if (key) {\n        this.playKey(key);\n      }\n      if (key.keyCode.repeat) return\n    },\n    handleKeyUp(event) {\n      // Find the matching piano key based on the keyCode\n      const key = this.pianoKeys.find((key) => key.keyCode === event.keyCode);\n      if (key) {\n        this.stopKey(key);\n      }\n    },\n  },\n};\n</script>\n\n<style>\n.piano-container {\n  background-color: #f0f0f0;\n  padding: 10px;\n}\n\n.piano-key {\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  min-width: 40px;\n  height: 160px;\n  font-size: 14px;\n  border: 1px solid #aaaaaa;\n  background-color: #ffffff;\n  color: #333333;\n  cursor: pointer;\n  transition: background-color 0.3s ease;\n}\n\n.piano-key.white {\n  border-bottom: 3px solid #aaaaaa;\n}\n\n.piano-key.black {\n  position: relative;\n  margin-left: -20px;\n  margin-right: -20px;\n  min-width: 20px;\n  height: 100px;\n  background-color: #333333;\n  color: #ffffff;\n  z-index: 1;\n}\n\n.piano-key.active {\n  background-color: #d0d0d0;\n}\n\n.piano-key.active.white {\n  background-color: #c0c0c0;\n}\n\n.piano-key.active.black {\n  background-color: #666666;\n}\n</style>\n"],"mappings":"AAmBA,YAAAA,IAAA;AACA;EACAC,KAAA;IACA;MACA;;MAEAC,SAAA,GACA;QAAAC,EAAA;QAAAC,KAAA;QAAAC,IAAA;QAAAC,MAAA;QAAAC,OAAA;MAAA,GACA;QAAAJ,EAAA;QAAAC,KAAA;QAAAC,IAAA;QAAAC,MAAA;QAAAC,OAAA;MAAA,GACA;QAAAJ,EAAA;QAAAC,KAAA;QAAAC,IAAA;QAAAC,MAAA;QAAAC,OAAA;MAAA,GACA;QAAAJ,EAAA;QAAAC,KAAA;QAAAC,IAAA;QAAAC,MAAA;QAAAC,OAAA;MAAA,GACA;QAAAJ,EAAA;QAAAC,KAAA;QAAAC,IAAA;QAAAC,MAAA;QAAAC,OAAA;MAAA,GACA;QAAAJ,EAAA;QAAAC,KAAA;QAAAC,IAAA;QAAAC,MAAA;QAAAC,OAAA;MAAA,GACA;QAAAJ,EAAA;QAAAC,KAAA;QAAAC,IAAA;QAAAC,MAAA;QAAAC,OAAA;MAAA,GACA;QAAAJ,EAAA;QAAAC,KAAA;QAAAC,IAAA;QAAAC,MAAA;QAAAC,OAAA;MAAA,GACA;QAAAJ,EAAA;QAAAC,KAAA;QAAAC,IAAA;QAAAC,MAAA;QAAAC,OAAA;MAAA,GACA;QAAAJ,EAAA;QAAAC,KAAA;QAAAC,IAAA;QAAAC,MAAA;QAAAC,OAAA;MAAA,GACA;QAAAJ,EAAA;QAAAC,KAAA;QAAAC,IAAA;QAAAC,MAAA;QAAAC,OAAA;MAAA,GACA;QAAAJ,EAAA;QAAAC,KAAA;QAAAC,IAAA;QAAAC,MAAA;QAAAC,OAAA;MAAA;IAEA;EACA;EACAC,QAAA;IACA;IACAC,MAAA,CAAAC,gBAAA,iBAAAC,aAAA;IACAF,MAAA,CAAAC,gBAAA,eAAAE,WAAA;EACA;EACAC,cAAA;IACA;IACAJ,MAAA,CAAAK,mBAAA,iBAAAH,aAAA;IACAF,MAAA,CAAAK,mBAAA,eAAAF,WAAA;EACA;EACAG,OAAA;IACAC,QAAAC,GAAA;MACAA,GAAA,CAAAX,MAAA;MACA,MAAAY,KAAA,OAAAlB,IAAA,CAAAmB,KAAA,GAAAC,aAAA;MACA;MACA;MACA;MACA;;MAEA,QAAAH,GAAA,CAAAV,OAAA;QACA;UACAW,KAAA,CAAAG,oBAAA;UACA;QACA;UACAH,KAAA,CAAAG,oBAAA;UACA;QACA;UACAH,KAAA,CAAAG,oBAAA;UACA;QACA;UACAH,KAAA,CAAAG,oBAAA;UACA;QACA;UACAH,KAAA,CAAAG,oBAAA;UACA;QACA;UACAH,KAAA,CAAAG,oBAAA;UACA;QACA;UACAH,KAAA,CAAAG,oBAAA;UACA;QACA;UACAH,KAAA,CAAAG,oBAAA;UACA;QACA;UACAH,KAAA,CAAAG,oBAAA;UACA;QACA;UACAH,KAAA,CAAAG,oBAAA;UACA;QACA;UACAH,KAAA,CAAAG,oBAAA;UACA;QACA;UACAH,KAAA,CAAAG,oBAAA;UACA;MAAA;MAEA;IACA;IACAC,QAAAL,GAAA;MACAA,GAAA,CAAAX,MAAA;IACA;IACAK,cAAAY,KAAA;MACA;MACA,MAAAN,GAAA,QAAAf,SAAA,CAAAsB,IAAA,CAAAP,GAAA,IAAAA,GAAA,CAAAV,OAAA,KAAAgB,KAAA,CAAAhB,OAAA;MACA,IAAAU,GAAA;QACA,KAAAD,OAAA,CAAAC,GAAA;MACA;MACA,IAAAA,GAAA,CAAAV,OAAA,CAAAkB,MAAA;IACA;IACAb,YAAAW,KAAA;MACA;MACA,MAAAN,GAAA,QAAAf,SAAA,CAAAsB,IAAA,CAAAP,GAAA,IAAAA,GAAA,CAAAV,OAAA,KAAAgB,KAAA,CAAAhB,OAAA;MACA,IAAAU,GAAA;QACA,KAAAK,OAAA,CAAAL,GAAA;MACA;IACA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}