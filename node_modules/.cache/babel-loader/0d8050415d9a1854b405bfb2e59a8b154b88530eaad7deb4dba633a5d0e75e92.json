{"ast":null,"code":"import \"core-js/modules/web.timers.js\";\nimport \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.array.for-each.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/web.dom-collections.for-each.js\";\nexport default {\n  data: function data() {\n    return {\n      bpm: 40,\n      interval: null,\n      isPlaying: false,\n      fileName: \"\",\n      noteValue: \"\",\n      recording: []\n    };\n  },\n  computed: {\n    color: function color() {\n      if (this.bpm < 100) return \"indigo\";\n      if (this.bpm < 125) return \"teal\";\n      if (this.bpm < 140) return \"green\";\n      if (this.bpm < 175) return \"orange\";\n      return \"red\";\n    },\n    animationDuration: function animationDuration() {\n      return \"\".concat(60 / this.bpm, \"s\");\n    }\n  },\n  methods: {\n    findBeats: function findBeats() {\n      return 60 / this.bpm * 1000;\n    },\n    playSound: function playSound(e) {\n      var fileName = \"\";\n      switch (e.key) {\n        case \"a\":\n          fileName = \"kick.wav\";\n          break;\n        case \"s\":\n          fileName = \"kick2.wav\";\n          break;\n        case \"z\":\n          fileName = \"kick3.wav\";\n          break;\n        case \"x\":\n          fileName = \"kick4.wav\";\n          break;\n        case \"d\":\n          fileName = \"snare.wav\";\n          break;\n        case \"f\":\n          fileName = \"snare2.wav\";\n          break;\n        case \"c\":\n          fileName = \"snare3.wav\";\n          break;\n        case \"v\":\n          fileName = \"snare4.wav\";\n          break;\n        case \"i\":\n          fileName = \"hihat1.wav\";\n          break;\n        case \"o\":\n          fileName = \"hihat2.wav\";\n          break;\n        case \"p\":\n          fileName = \"hihat3.wav\";\n          break;\n      }\n      var audio = new Audio(require(\"../assets/\" + fileName));\n      this.fileName = fileName;\n      audio.play();\n    },\n    playSoundRepeat: function playSoundRepeat() {\n      if (!this.isPlaying) {\n        setTimeout(this.stopSound, 200);\n      } else {\n        var audio = new Audio(require(\"../assets/\" + this.fileName));\n        var time = this.findBeats();\n        this.recording.push(audio);\n        setTimeout(this.playSoundRepeat, time);\n        audio.play();\n      }\n    },\n    playRecording: function playRecording() {\n      this.recording.forEach(function (audio) {\n        audio.play();\n      });\n    },\n    stopSound: function stopSound() {\n      this.fileName = \"\";\n    },\n    decrement: function decrement() {\n      this.bpm--;\n    },\n    increment: function increment() {\n      this.bpm++;\n    },\n    toggle: function toggle() {\n      this.isPlaying = !this.isPlaying;\n    }\n  },\n  created: function created() {\n    window.addEventListener(\"keydown\", this.playSound);\n  },\n  unmounted: function unmounted() {\n    window.removeEventListener(\"keydown\", this.playSound);\n  }\n};","map":{"version":3,"names":["data","bpm","interval","isPlaying","fileName","noteValue","recording","computed","color","animationDuration","concat","methods","findBeats","playSound","e","key","audio","Audio","require","play","playSoundRepeat","setTimeout","stopSound","time","push","playRecording","forEach","decrement","increment","toggle","created","window","addEventListener","unmounted","removeEventListener"],"sources":["src/components/DrumMachine.vue"],"sourcesContent":["<template>\n  <v-container class=\"about pt-4\">\n    <v-card class=\"mx-auto\" max-width=\"600\">\n      <v-toolbar flat dense>\n        <v-toolbar-title>\n          <span class=\"subheading\">METRONOME</span>\n        </v-toolbar-title>\n        <v-spacer></v-spacer>\n        <v-btn icon>\n          <v-icon>mdi-share-variant</v-icon>\n        </v-btn>\n      </v-toolbar>\n\n      <v-card-text>\n        <v-row class=\"mb-4\" justify=\"space-between\">\n          <v-col class=\"text-left\">\n            <span class=\"text-h2 font-weight-light\" v-text=\"bpm\"></span>\n            <span class=\"subheading font-weight-light mr-1\">BPM</span>\n            <v-fade-transition>\n              <v-avatar\n                v-if=\"isPlaying\"\n                :color=\"color\"\n                :style=\"{\n                  animationDuration: animationDuration,\n                }\"\n                class=\"mb-1 v-avatar--metronome\"\n                size=\"12\"\n              ></v-avatar>\n            </v-fade-transition>\n          </v-col>\n          <v-col class=\"text-right\">\n            <v-btn\n              :color=\"color\"\n              dark\n              depressed\n              fab\n              @click=\"\n                toggle();\n                playSoundRepeat();\n              \"\n            >\n              <v-icon large>\n                {{ isPlaying ? \"mdi-pause\" : \"mdi-play\" }}\n              </v-icon>\n            </v-btn>\n          </v-col>\n        </v-row>\n\n        <v-slider\n          v-model=\"bpm\"\n          :color=\"color\"\n          track-color=\"grey\"\n          always-dirty\n          min=\"40\"\n          max=\"218\"\n        >\n          <template v-slot:prepend>\n            <v-icon :color=\"color\" @click=\"decrement\"> mdi-minus </v-icon>\n          </template>\n\n          <template v-slot:append>\n            <v-icon :color=\"color\" @click=\"increment\"> mdi-plus </v-icon>\n          </template>\n        </v-slider>\n      </v-card-text>\n    </v-card>\n    <v-radio-group class=\"radio pl-400\" v-model=\"noteValue\" row>\n      <v-radio label=\"Eighth Note\" value=\"8\"></v-radio>\n      <v-radio label=\"Quarter Note\" value=\"4\"></v-radio>\n      <v-radio label=\"Half Note\" value=\"2\"></v-radio>\n      <v-radio label=\"Whole Note\" value=\"1\"></v-radio>\n    </v-radio-group>\n    <v-btn rounded color=\"primary\" dark> Play Recording </v-btn>\n  </v-container>\n</template>\n\n<script>\nexport default {\n  data: () => ({\n    bpm: 40,\n    interval: null,\n    isPlaying: false,\n    fileName: \"\",\n    noteValue: \"\",\n    recording: [],\n  }),\n\n  computed: {\n    color() {\n      if (this.bpm < 100) return \"indigo\";\n      if (this.bpm < 125) return \"teal\";\n      if (this.bpm < 140) return \"green\";\n      if (this.bpm < 175) return \"orange\";\n      return \"red\";\n    },\n    animationDuration() {\n      return `${60 / this.bpm}s`;\n    },\n  },\n\n  methods: {\n    findBeats() {\n      return (60 / this.bpm) * 1000;\n    },\n    playSound(e) {\n      let fileName = \"\";\n      switch (e.key) {\n        case \"a\":\n          fileName = \"kick.wav\";\n          break;\n        case \"s\":\n          fileName = \"kick2.wav\";\n          break;\n        case \"z\":\n          fileName = \"kick3.wav\";\n          break;\n        case \"x\":\n          fileName = \"kick4.wav\";\n          break;\n        case \"d\":\n          fileName = \"snare.wav\";\n          break;\n        case \"f\":\n          fileName = \"snare2.wav\";\n          break;\n        case \"c\":\n          fileName = \"snare3.wav\";\n          break;\n        case \"v\":\n          fileName = \"snare4.wav\";\n          break;\n        case \"i\":\n          fileName = \"hihat1.wav\";\n          break;\n        case \"o\":\n          fileName = \"hihat2.wav\";\n          break;\n        case \"p\":\n          fileName = \"hihat3.wav\";\n          break;\n      }\n      let audio = new Audio(require(\"../assets/\" + fileName));\n      this.fileName = fileName;\n      audio.play();\n    },\n    playSoundRepeat() {\n      if (!this.isPlaying) {\n        setTimeout(this.stopSound, 200);\n      } else {\n        let audio = new Audio(require(\"../assets/\" + this.fileName));\n        let time = this.findBeats();\n        this.recording.push(audio);\n        setTimeout(this.playSoundRepeat, time);\n        audio.play();\n      }\n    },\n    playRecording() {\n      this.recording.forEach((audio) => {\n        audio.play();\n      });\n    },\n    stopSound() {\n      this.fileName = \"\";\n    },\n    decrement() {\n      this.bpm--;\n    },\n    increment() {\n      this.bpm++;\n    },\n    toggle() {\n      this.isPlaying = !this.isPlaying;\n    },\n  },\n  created() {\n    window.addEventListener(\"keydown\", this.playSound);\n  },\n  unmounted() {\n    window.removeEventListener(\"keydown\", this.playSound);\n  },\n};\n</script>\n\n<style>\n@keyframes metronome-example {\n  from {\n    transform: scale(0.5);\n  }\n\n  to {\n    transform: scale(1);\n  }\n}\n\n.v-avatar--metronome {\n  animation-name: metronome-example;\n  animation-iteration-count: infinite;\n  animation-direction: alternate;\n}\n</style>\n"],"mappings":";;;;;AA6EA;EACAA,IAAA,WAAAA,KAAA;IAAA;MACAC,GAAA;MACAC,QAAA;MACAC,SAAA;MACAC,QAAA;MACAC,SAAA;MACAC,SAAA;IACA;EAAA;EAEAC,QAAA;IACAC,KAAA,WAAAA,MAAA;MACA,SAAAP,GAAA;MACA,SAAAA,GAAA;MACA,SAAAA,GAAA;MACA,SAAAA,GAAA;MACA;IACA;IACAQ,iBAAA,WAAAA,kBAAA;MACA,UAAAC,MAAA,WAAAT,GAAA;IACA;EACA;EAEAU,OAAA;IACAC,SAAA,WAAAA,UAAA;MACA,iBAAAX,GAAA;IACA;IACAY,SAAA,WAAAA,UAAAC,CAAA;MACA,IAAAV,QAAA;MACA,QAAAU,CAAA,CAAAC,GAAA;QACA;UACAX,QAAA;UACA;QACA;UACAA,QAAA;UACA;QACA;UACAA,QAAA;UACA;QACA;UACAA,QAAA;UACA;QACA;UACAA,QAAA;UACA;QACA;UACAA,QAAA;UACA;QACA;UACAA,QAAA;UACA;QACA;UACAA,QAAA;UACA;QACA;UACAA,QAAA;UACA;QACA;UACAA,QAAA;UACA;QACA;UACAA,QAAA;UACA;MAAA;MAEA,IAAAY,KAAA,OAAAC,KAAA,CAAAC,OAAA,gBAAAd,QAAA;MACA,KAAAA,QAAA,GAAAA,QAAA;MACAY,KAAA,CAAAG,IAAA;IACA;IACAC,eAAA,WAAAA,gBAAA;MACA,UAAAjB,SAAA;QACAkB,UAAA,MAAAC,SAAA;MACA;QACA,IAAAN,KAAA,OAAAC,KAAA,CAAAC,OAAA,qBAAAd,QAAA;QACA,IAAAmB,IAAA,QAAAX,SAAA;QACA,KAAAN,SAAA,CAAAkB,IAAA,CAAAR,KAAA;QACAK,UAAA,MAAAD,eAAA,EAAAG,IAAA;QACAP,KAAA,CAAAG,IAAA;MACA;IACA;IACAM,aAAA,WAAAA,cAAA;MACA,KAAAnB,SAAA,CAAAoB,OAAA,WAAAV,KAAA;QACAA,KAAA,CAAAG,IAAA;MACA;IACA;IACAG,SAAA,WAAAA,UAAA;MACA,KAAAlB,QAAA;IACA;IACAuB,SAAA,WAAAA,UAAA;MACA,KAAA1B,GAAA;IACA;IACA2B,SAAA,WAAAA,UAAA;MACA,KAAA3B,GAAA;IACA;IACA4B,MAAA,WAAAA,OAAA;MACA,KAAA1B,SAAA,SAAAA,SAAA;IACA;EACA;EACA2B,OAAA,WAAAA,QAAA;IACAC,MAAA,CAAAC,gBAAA,iBAAAnB,SAAA;EACA;EACAoB,SAAA,WAAAA,UAAA;IACAF,MAAA,CAAAG,mBAAA,iBAAArB,SAAA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}